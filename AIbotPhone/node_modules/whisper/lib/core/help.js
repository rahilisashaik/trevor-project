(function(){
  module.exports = function(whisper){
    var makeError, noTaskE, unknownTaskE;
    makeError = require('flaw');
    noTaskE = function(){
      return makeError('<no-task-e>', "`help` expects a task name, none was given.");
    };
    unknownTaskE = function(n){
      return makeError('<unknown-task-e>', "The task \"" + n + "\" is not registered.");
    };
    return whisper.task('help', [], "Displays usage information for a given task.\n\nUsage: whisper help [task]", function(env, name){
      var task;
      switch (false) {
      case !!name:
        throw noTaskE();
      default:
        if (name in whisper.allTasks) {
          task = whisper.allTasks[name];
          return console.log("# " + name + "\n\n" + task.description);
        } else {
          throw unknownTaskE(name);
        }
      }
    });
  };
}).call(this);
